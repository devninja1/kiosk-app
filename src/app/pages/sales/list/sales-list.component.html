@if (salesList.length > 0) {
  <mat-card>
    <mat-card-title>Current Sale</mat-card-title>
    <mat-card-content>
      <div class="sales-list-header">
        <span class="col-product">Product</span>
        <span class="col-rate">Rate</span>
        <span class="col-qty">Qty</span>
        <span class="col-total">Subtotal</span>
        <span class="col-actions"></span>
      </div>
      @for (item of salesList; track trackByProduct($index, item); let i = $index) {
        <div class="sales-list-item" [class.row-alt]="i % 2 === 1">
          <span class="col-product">{{ item.product_name }}</span>
          <span class="col-rate">{{ item.unit_price | currency:currencyCode:'symbol' }}</span>
          <span class="col-qty">
            <span class="qty-control">
              <button
                mat-icon-button
                type="button"
                aria-label="Decrease quantity"
                (click)="decreaseQty(i)"
                  [disabled]="item.quantity <= 0.01">
                <mat-icon>remove</mat-icon>
              </button>
              <input
                class="qty-input"
                type="number"
                inputmode="decimal"
                step="0.01"
                min="0.01"
                [value]="item.quantity"
                (focus)="selectQty($event)"
                (change)="setQty(i, $event.target.valueAsNumber)"
              />
              <button
                mat-icon-button
                type="button"
                aria-label="Increase quantity"
                (click)="increaseQty(i)">
                <mat-icon>add</mat-icon>
              </button>
            </span>
          </span>
          <span class="col-total">{{ item.subtotal | currency:currencyCode:'symbol' }}</span>
          <span class="col-actions">
            <button mat-icon-button color="warn" (click)="deleteItem(i)" aria-label="Delete item">
              <mat-icon>delete</mat-icon>
            </button>
          </span>
        </div>
      }
      <div class="sales-list-footer">
        Grand Total: {{ grandTotal | currency:currencyCode:'symbol' }}
      </div>
    </mat-card-content>
  </mat-card>
}